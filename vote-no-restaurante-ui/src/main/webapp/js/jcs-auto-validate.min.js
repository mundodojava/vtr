!function(e){"use strict";e.module("jcs-autoValidate",[])}(angular),function(e){"use strict";e.module("jcs-autoValidate").provider("validator",[function(){var e={},t=!0,r=!0,n=!0,a=function(e){var t;return e&&0!==e.length?(t=e.toLowerCase(),e=!("f"===t||"0"===t||"false"===t)):e=!1,e},o=function(e,t){var r;return void 0!==e&&(r=e.attr(t)||e.attr("data-"+t)),r},i=function(e,t){return a(o(e,t))},s=function(e){return t&&!i(e,"disable-valid-styling")},l=function(e){return r&&!i(e,"disable-invalid-styling")};this.enable=function(e){n=e},this.isEnabled=function(){return n},this.setDefaultElementModifier=function(t){if(void 0===e[t])throw new Error("Element modifier not registered: "+t);this.defaultElementModifier=t},this.registerDomModifier=function(t,r){e[t]=r},this.setErrorMessageResolver=function(e){this.errorMessageResolver=e},this.getErrorMessage=function(e,t){if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(e,t)},this.setValidElementStyling=function(e){t=e},this.setInvalidElementStyling=function(e){r=e},this.getDomModifier=function(t){var r=(void 0!==t?t.attr("element-modifier"):this.defaultElementModifier)||(void 0!==t?t.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===r)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return e[r]},this.makeValid=function(e){s(e)?this.getDomModifier(e).makeValid(e):this.makeDefault(e)},this.makeInvalid=function(e,t){l(e)?this.getDomModifier(e).makeInvalid(e,t):this.makeDefault(e)},this.makeDefault=function(e){var t=this.getDomModifier(e);t.makeDefault&&t.makeDefault(e)},this.$get=[function(){return this}]}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("bootstrap3ElementModifier",["$log",function(t){var r=function(t){e.forEach(t.find("span"),function(t){t=e.element(t),(t.hasClass("error-msg")||t.hasClass("form-control-feedback")||t.hasClass("control-feedback"))&&t.remove()}),t.removeClass("has-success has-error has-feedback")},n=function(e,t){for(var r,n=e,a=0;3>=a;a+=1){if(void 0!==n&&n.hasClass(t)){r=n;break}void 0!==n&&(n=n.parent())}return r},a=function(t,r){for(var n,o=0;o<t.children.length&&(n=t.children[o],void 0===n||!e.element(n).hasClass(r))&&!(void 0!==n.children&&(n=a(n,r),n.length>0));o+=1);return e.element(n)},o=function(e){return n(e,"form-group")},i=function(e){return a(e,"input-group")},s=function(e,t){e[0].parentNode.insertBefore(t[0],e[0].nextSibling)},l=!1,u=function(e){l=e},d=function(n){var a,u=o(n);if(u){if(r(u),a=i(u[0]),u.addClass("has-success "+(a.length>0?"":"has-feedback")),l){var d='<span class="glyphicon glyphicon-ok form-control-feedback"></span>';a.length>0&&(d=d.replace("form-",""),d='<span class="input-group-addon control-feedback">'+d+"</span"),s(n,e.element(d))}}else t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},c=function(n,a){var u,d=o(n),c=e.element('<span class="help-block has-error error-msg">'+a+"</span>");if(d){if(r(d),u=i(d[0]),d.addClass("has-error "+(u.length>0?"":"has-feedback")),s(u.length>0?u:n,c),l){var f='<span class="glyphicon glyphicon-remove form-control-feedback"></span>';u.length>0&&(f=f.replace("form-",""),f='<span class="input-group-addon control-feedback">'+f+"</span"),s(n,e.element(f))}}else t.error("Angular-auto-validate: invalid bs3 form structure elements must be wrapped by a form-group class")},f=function(e){var t=o(e);r(t)};return{makeValid:d,makeInvalid:c,makeDefault:f,enableValidationStateIcons:u,key:"bs3"}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(t){var r=function(r,n,a){n=e.isUndefined(n)?0:n,a=e.isUndefined(a)?!0:a;var o=0;return function(){var e=this,i=arguments;o+=1;var s=function(t){return function(){return t===o?r.apply(e,i):void 0}}(o);return t(s,n,a)}};return{debounce:r}}])}(angular),function(e,t){"use strict";"format"in e.prototype||(e.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,r){return void 0!==typeof e[r]?e[r]:t})}),t.autoValidate=t.autoValidate||{errorMessages:{}},t.autoValidate.errorMessages["en-us"]=t.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"},t.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(e,r){var n,a="en-gb",o="js/angular-auto-validate/dist/lang",i=function(e){return n=r.get("{0}/jcs-auto-validate_{1}.json".format(o,e.toLowerCase()))},s=function(e){o=e},l=function(r,o){var s=e.defer();return o=o||i,a=r.toLowerCase(),void 0===t.autoValidate.errorMessages[a]?(n=o(r),n.then(function(e){n=void 0,t.autoValidate.errorMessages[a]=e.data,s.resolve(t.autoValidate.errorMessages[a])},function(e){t.autoValidate.errorMessages[a]={defaultMsg:"Loading culture failed!"},n=null,s.reject(e)})):s.resolve(t.autoValidate.errorMessages[a]),s.promise},u=function(r){var o=e.defer();return r=void 0===r?a:r.toLowerCase(),void 0!==n?n.then(function(){o.resolve(t.autoValidate.errorMessages[r])},function(e){o.reject(e)}):o.resolve(t.autoValidate.errorMessages[r]),o.promise},d=function(e,t){var r;return t&&(e+="-err-type",r=t.attr(e),void 0===r&&(r=t.attr("data-ng-"+e)||t.attr("ng-"+e)),r&&(r=r.replace(/[\W]/g,""))),r},c=function(r,o){var i,s,l,u=e.defer(),f=[];if(void 0!==n)n.then(function(){c(r,o).then(function(e){u.resolve(e)})});else{if(i=t.autoValidate.errorMessages[a][r],l=d(r,o),l&&(i=t.autoValidate.errorMessages[a][l]),void 0===i&&(i=t.autoValidate.errorMessages[a].defaultMsg.format(r)),o&&o.attr)try{s=o.attr(r),void 0===s&&(s=o.attr("data-ng-"+r)||o.attr("ng-"+r)),f.push(s||""),i=i.format(f)}catch(m){}u.resolve(i)}return u.promise};return{setI18nFileRootPath:s,setCulture:l,getErrorMessages:u,resolve:c}}])}(String,angular),function(e){"use strict";e.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var t=function(t,r){e.forEach(t.find("small"),function(t){e.element(t).hasClass("error")&&e.element(t).remove()}),r.removeClass("error")},r=function(e){for(var t=e,r=0;3>=r&&(void 0===t||!t.hasClass("columns"));r+=1)void 0!==t&&(t=t.parent());return t},n=function(e){var n=r(e);t(n&&n.length>0?n:e,e)},a=function(n,a){var o,i=r(n);t(i||n,n),n.addClass("error"),i&&(o=e.element('<small class="error">'+a+"</small>"),i.append(o))},o=function(e){n(e)};return{makeValid:n,makeInvalid:a,makeDefault:o,key:"foundation5"}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").factory("jcs-elementUtils",[function(){var e=function(e){return e[0].offsetWidth>0&&e[0].offsetHeight>0};return{isElementVisible:e}}]),e.module("jcs-autoValidate").factory("validationManager",["validator","jcs-elementUtils",function(t,r){var n=["input","textarea","select","form"],a=function(e){return r.isElementVisible(e)},o=function(e){return e&&e.length>0&&a(e)&&n.indexOf(e[0].nodeName.toLowerCase())>-1},i=function(r,n,a){var i,s=!0,l=r.$pristine===!1||a,u=function(t){var r,n=!0;return e.forEach(t,function(e,t){n&&e&&(n=!1,r=t)}),r};return(a||o(n)&&r&&l)&&(s=!r.$invalid,s?t.makeValid(n):(i=u(r.$error),void 0===i?s=!0:t.getErrorMessage(i,n).then(function(e){t.makeInvalid(n,e)}))),s},s=function(e){t.makeDefault(e)},l=function(t){e.forEach(t[0],function(t){var r,n=e.element(t);r=n.controller("ngModel"),void 0!==r&&("form"===n[0].nodeName.toLowerCase()?l(n):r.$setPristine())})},u=function(t){var r=!0,n=t?e.element(t).controller("form"):void 0,a=function(t,n){var a,s;t=e.element(t),a=t.controller("ngModel"),void 0!==a&&(n||o(t))&&("form"===t[0].nodeName.toLowerCase()?u(t):(s=i(a,t,!0),r=r&&s))};return void 0===t||void 0!==n&&n.disableDynamicValidation?void 0!==t:(e.forEach(t[0],function(e){a(e)}),t[0].customHTMLFormControlsCollection&&e.forEach(t[0].customHTMLFormControlsCollection,function(e){a(e,!0)}),r)},d=function(e,r,n){r?t.getErrorMessage(r,e).then(function(r){t.makeInvalid(e,r)}):t.makeInvalid(e,n)};return{setElementValidationError:d,validateElement:i,validateForm:u,resetElement:s,resetForm:l}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("form",["validationManager",function(e){return{restrict:"E",link:function(t,r){r.on("reset",function(){e.resetForm(r)}),t.$on("$destroy",function(){r.off("reset")})}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("registerCustomFormControl",[function(){var t=function(t){for(var r=t,n=0;10>=n&&(void 0===r||"form"!==r.nodeName.toLowerCase());n+=1)void 0!==r&&(r=e.element(r).parent()[0]);return r};return{restrict:"A",link:function(e,r){var n=t(r.parent()[0]);n&&(n.customHTMLFormControlsCollection=n.customHTMLFormControlsCollection||[],n.customHTMLFormControlsCollection.push(r[0]))}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").directive("form",["validator",function(e){return{restrict:"E",require:"form",compile:function(){return{pre:function(t,r,n,a){a.disableDynamicValidation=!e.isEnabled(),void 0!==n.disableDynamicValidation&&(a.disableDynamicValidation=void 0===n.disableDynamicValidation||""===n.disableDynamicValidation||"true"===n.disableDynamicValidation)}}}}}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").config(["$provide",function(e){e.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(e,t,r){return e[0].compile=function(e,n){var a=t(n.ngSubmit),o="true"===n.ngSubmitForce;return function(e,t){t.on("submit",function(n){e.$apply(function(){(r.validateForm(t)||o===!0)&&a(e,{$event:n})})})}},e}])}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").config(["$provide",function(t){t.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(t,r,n,a){var o=r[0],i=o.link||o.compile;return o.compile=function(t){return function(r,o,s,l){var u=l[0],d=l[1],c=e.version.major>=1&&e.version.minor>=3,f=void 0===s.ngModelOptions?void 0:r.$eval(s.ngModelOptions),m=u.$setValidity,v=u.$setPristine,g=a.debounce(function(){n.validateElement(u,o)},100);c&&e.isFunction(i)&&(i=i(t)),i.pre&&(i.pre.apply(this,arguments),f=void 0===u.$options?void 0:u.$options),(void 0===s.formnovalidate||void 0!==d&&d.disableDynamicValidation===!1)&&(c||void 0===f||void 0===f.updateOn||""===f.updateOn?u.$setValidity=function(e,t){m.call(u,e,t),g()}:(o.on(f.updateOn,function(){g()}),r.$on("$destroy",function(){o.off(f.updateOn)})),u.$setPristine=function(){v.call(u),n.resetElement(o)},u.autoValidated=!0),i.post?i.post.apply(this,arguments):i.apply(this,arguments),u.setExternalValidation=function(e,t,r){r&&(u.$error?u.$error[e]=!1:u.$errors[e]=!1),n.setElementValidationError(o,e,t)},u.removeExternalValidation=function(e,t){t&&(u.$error?u.$error[e]=!0:u.$errors[e]=!0),n.resetElement(o)},d&&(d.setExternalValidation=function(e,t,r,n){var a=!1;return d[e]&&(d[e].setExternalValidation(t,r,n),a=!0),a},d.removeExternalValidation=function(e,t,r,n){var a=!1;return d[e]&&(d[e].removeExternalValidation(t,n),a=!0),a})}},r}])}])}(angular),function(e){"use strict";e.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(e,t,r,n){e.setErrorMessageResolver(t.resolve),e.registerDomModifier(r.key,r),e.registerDomModifier(n.key,n),e.setDefaultElementModifier(r.key)}])}(angular);